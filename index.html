<!-- –ß–ê–°–¢–¨ 1/3 ‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤–æ–π -->
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª üé≤ | Randomik.ru</title>
<meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π, –ª–æ—Ç–µ—Ä–µ–π –∏ –∫–æ–Ω–∫—É—Ä—Å–æ–≤." />
<meta name="robots" content="index, follow" />

<!-- ========== –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ (–≤—Å—Ç–∞–≤–ª–µ–Ω–æ —Å –≤–∞—à–∏–º ID) ========== -->
<script type="text/javascript">
(function(m,e,t,r,i,k,a){
  m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
  m[i].l=1*new Date();
  k=e.createElement(t), a=e.getElementsByTagName(t)[0];
  k.async=1; k.src=r; a.parentNode.insertBefore(k,a);
})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

ym(104258221, "init", {
  clickmap:true,
  trackLinks:true,
  accurateTrackBounce:true,
  webvisor:true
});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/104258221" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- ========== /–Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ ========== -->

<style>
  /* –ë–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π */
  :root{
    --bg1: #89f7fe;
    --bg2: #66a6ff;
    --accent: #66a6ff;
    --card: #ffffff;
    --text: #222;
    --muted: #666;
  }
  body{margin:0;font-family:Segoe UI, Tahoma, Arial, sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2));min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;transition:background .25s,color .25s}
  body.dark{background:linear-gradient(135deg,#2c3e50,#000);color:#f0f0f0}
  .card{width:100%;max-width:760px;background:var(--card);border-radius:18px;padding:30px;box-shadow:0 12px 40px rgba(0,0,0,.12);transition:background .25s,color .25s}
  body.dark .card{background:#161617;color:#eaeaea}
  .top{display:flex;align-items:center;justify-content:space-between;gap:15px;flex-wrap:wrap}
  h1{font-size:22px;margin:0;display:flex;align-items:center;gap:10px;color:var(--text)}
  .dice-icon{font-size:28px}
  #datetime{font-weight:600;color:var(--muted);background:#f6f8fb;padding:8px 12px;border-radius:10px}
  body.dark #datetime{background:#232323;color:#ddd}

  /* inputs area */
  .grid{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:14px;
    margin-top:18px;
    align-items:center;
  }
  @media(max-width:720px){ .grid{grid-template-columns:1fr;}}
  .field{display:flex;flex-direction:column;gap:8px}
  .field input, .field select{
    padding:12px;border-radius:10px;border:1px solid #e2e6ee;font-size:15px;text-align:center;
    background:transparent; transition:box-shadow .15s,border-color .15s;
  }
  .field input:focus, .field select:focus{outline:none;box-shadow:0 0 0 4px rgba(102,166,255,.12);border-color:var(--accent)}
  .controls-row{display:flex;align-items:center;gap:14px;justify-content:space-between;margin-top:12px;flex-wrap:wrap}
  .left-controls{display:flex;align-items:center;gap:12px}
  .checkbox-line{display:flex;align-items:center;gap:8px;font-size:15px;cursor:pointer}
  .switch{position:relative;display:inline-block;width:54px;height:30px}
  .switch input{opacity:0;width:0;height:0}
  .slider{position:absolute;inset:0;background:#ccc;border-radius:30px;transition:.3s}
  .slider:before{content:"";position:absolute;left:4px;top:4px;width:22px;height:22px;background:#fff;border-radius:50%;transition:.3s}
  .switch input:checked + .slider{background:#28a745}
  .switch input:checked + .slider:before{transform:translateX(24px)}

  .sort-line{display:flex;align-items:center;gap:8px}
  .buttons{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
  .btn{flex:1;min-width:140px;padding:12px 16px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.08);transition:transform .08s,background .12s}
  .btn:hover{background:#4a8be0;transform:translateY(-1px)}
  .btn.secondary{background:#f0f2f7;color:#222}
  .result{margin-top:22px;min-height:80px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}
  .numbers{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;font-weight:800;font-size:20px}
  .num{background:#f0f6ff;padding:8px 14px;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,.06)}
  body.dark .num{background:#2a2f35;color:#fff}
  .history{margin-top:20px;background:#f7f9fc;padding:12px;border-radius:10px;max-height:260px;overflow:auto}
  body.dark .history{background:#1f1f1f}
  .hist-entry{padding:10px;border-radius:8px;border-bottom:1px solid rgba(0,0,0,.04);text-align:center}
  .hist-date{font-weight:800;display:block;margin-bottom:6px}
  .hist-nums{font-size:16px}
  .clear-history{margin-top:12px;background:#ff5d5d;color:white;border:0;padding:10px 12px;border-radius:8px;cursor:pointer}
  .ad-wrap{margin-top:18px;text-align:center}

  footer {margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="card" role="main">
  <div class="top">
    <h1><span class="dice-icon">üé≤</span> –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª</h1>
    <div id="datetime" aria-live="polite">‚Äî</div>
  </div>

  <!-- ========== –ü–û–õ–Ø –í–í–û–î–ê ========== -->
  <div class="grid" style="margin-top:18px;">
    <div class="field">
      <label for="min">–ú–∏–Ω–∏–º—É–º</label>
      <input id="min" type="number" inputmode="numeric" placeholder="1" value="1" />
    </div>
    <div class="field">
      <label for="max">–ú–∞–∫—Å–∏–º—É–º</label>
      <input id="max" type="number" inputmode="numeric" placeholder="100" value="100" />
    </div>

    <div class="field">
      <label for="count">–ö–æ–ª-–≤–æ —á–∏—Å–µ–ª</label>
      <input id="count" type="number" inputmode="numeric" placeholder="1" value="1" />
    </div>

    <div class="field">
      <label for="sort">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
      <select id="sort">
        <option value="none">–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</option>
        <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
        <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
      </select>
    </div>
  </div>

  <!-- –ß–ê–°–¢–¨ 1/3 –ö–û–ù–ï–¶ -->
    <!-- –ß–ê–°–¢–¨ 2/3 ‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ß–∞—Å—Ç—å 1 -->

  <!-- ========== –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–ò (–ü–æ–≤—Ç–æ—Ä—ã + –¢–µ–º–∞) ========== -->
  <div class="controls-row">
    <div class="left-controls">
      <label class="checkbox-line">
        <input type="checkbox" id="repeats">
        –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—ã
      </label>
    </div>

    <label class="checkbox-line" style="cursor:pointer;">
      –¢—ë–º–Ω–∞—è —Ç–µ–º–∞
      <label class="switch">
        <input type="checkbox" id="themeSwitch">
        <span class="slider"></span>
      </label>
    </label>
  </div>

  <!-- ========== –ö–ù–û–ü–ö–ò ========== -->
  <div class="buttons">
    <button class="btn" id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
    <button class="btn secondary" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
  </div>

  <!-- ========== –†–ï–ó–£–õ–¨–¢–ê–¢ ========== -->
  <div class="result">
    <div class="numbers" id="result"></div>
    <button class="btn secondary" id="copyBtn" style="display:none;width:100%;max-width:260px;">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>

  <!-- ========== –ò–°–¢–û–†–ò–Ø ========== -->
  <div class="history" id="historyBox"></div>
  <button id="clearHistoryBtn" class="clear-history">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>

  <!-- ========== –†–ï–ö–õ–ê–ú–ê –†–°–Ø (–≤–∞—à ID 17797668) ========== -->
  <div class="ad-wrap">
    <!-- –†–°–Ø –æ–±—ä—è–≤–ª–µ–Ω–∏–µ -->
    <div id="yandex_rtb_17797668"></div>
    <script>
      window.yaContextCb = window.yaContextCb || []
      window.yaContextCb.push(() => {
        Ya.Context.AdvManager.render({
          blockId: "R-A-17797668-1",
          renderTo: "yandex_rtb_17797668",
          async: true
        })
      })
    </script>
  </div>
  <!-- ========== –ó–í–£–ö –ë–†–û–°–ö–ê –ö–û–°–¢–ï–ô ========== -->
<audio id="diceSound" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f3ea364a65.mp3?filename=dice-rolling-6998.mp3">
</audio>

<script>
// ========== –¢–ï–ö–£–©–ê–Ø –î–ê–¢–ê –ò –í–†–ï–ú–Ø ==========
function updateDateTime() {
  const e = document.getElementById("datetime")
  const now = new Date()
  const options = {
    day: "2-digit", month: "2-digit", year: "numeric",
    hour: "2-digit", minute: "2-digit", second: "2-digit"
  }
  e.textContent = now.toLocaleString("ru-RU", options)
}
setInterval(updateDateTime, 1000)
updateDateTime()

// ========== –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê ==========
const themeSwitch = document.getElementById("themeSwitch")
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark")
  themeSwitch.checked = true
}
themeSwitch.addEventListener("change", () => {
  document.body.classList.toggle("dark")
  localStorage.setItem("theme",
    document.body.classList.contains("dark") ? "dark" : "light"
  )
})

// ========== –ì–ï–ù–ï–†–ê–¶–ò–Ø ==========
document.getElementById("generateBtn").onclick = () => {
  const min = parseInt(document.getElementById("min").value)
  const max = parseInt(document.getElementById("max").value)
  const count = parseInt(document.getElementById("count").value)
  const repeats = document.getElementById("repeats").checked
  const sortType = document.getElementById("sort").value
  const resultBox = document.getElementById("result")
  const copyBtn = document.getElementById("copyBtn")
  const sound = document.getElementById("diceSound")

  if (isNaN(min) || isNaN(max) || isNaN(count)) {
    resultBox.textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–∞"
    return
  }
  if (min > max) {
    resultBox.textContent = "–ú–∏–Ω–∏–º—É–º –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞"
    return
  }
  if (!repeats && count > (max - min + 1)) {
    resultBox.textContent = "–ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ —á–∏—Å–µ–ª"
    return
  }

  // –ó–≤—É–∫
  sound.currentTime = 0
  sound.play()

  let arr = []
  if (repeats) {
    for (let i = 0; i < count; i++)
      arr.push(Math.floor(Math.random() * (max - min + 1)) + min)
  } else {
    let pool = []
    for (let i = min; i <= max; i++) pool.push(i)
    for (let i = 0; i < count; i++) {
      const idx = Math.floor(Math.random() * pool.length)
      arr.push(pool[idx])
      pool.splice(idx, 1)
    }
  }

  // —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  if (sortType === "asc") arr.sort((a,b)=>a-b)
  if (sortType === "desc") arr.sort((a,b)=>b-a)

  resultBox.textContent = arr.join(", ")
  copyBtn.style.display = "block"

  saveHistory(arr)
  scrollToCenter("#result")
}

// ========== –°–ë–†–û–° ==========
document.getElementById("resetBtn").onclick = () => {
  document.getElementById("result").textContent = ""
  document.getElementById("copyBtn").style.display = "none"
}

// ========== –ö–û–ü–ò–†–û–í–ê–ù–ò–ï ==========
document.getElementById("copyBtn").onclick = () => {
  navigator.clipboard.writeText(document.getElementById("result").textContent)
}

// ========== –ò–°–¢–û–†–ò–Ø ==========
function saveHistory(numbers) {
  let history = JSON.parse(localStorage.getItem("history") || "[]")

  const now = new Date()
  const timestamp = now.toLocaleString("ru-RU", {
    day:"2-digit", month:"2-digit", year:"numeric",
    hour:"2-digit", minute:"2-digit", second:"2-digit"
  })

  history.unshift({time: timestamp, nums: numbers})

  localStorage.setItem("history", JSON.stringify(history))
  renderHistory()
}

function renderHistory() {
  const box = document.getElementById("historyBox")
  let history = JSON.parse(localStorage.getItem("history") || "[]")

  if (!history.length) {
    box.innerHTML = "<div class='history-empty'>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>"
    return
  }

  box.innerHTML = history.map(h => `
    <div class="history-item">
      <div class="history-time">${h.time}</div>
      <div class="history-nums">${h.nums.join(", ")}</div>
    </div>
  `).join("")
}
renderHistory()

document.getElementById("clearHistoryBtn").onclick = () => {
  localStorage.removeItem("history")
  renderHistory()
}

// ========== –ê–í–¢–û–ü–†–û–ö–†–£–¢–ö–ê –ö –¶–ï–ù–¢–†–£ –≠–ö–†–ê–ù–ê ==========
function scrollToCenter(selector) {
  const element = document.querySelector(selector)
  const y = element.getBoundingClientRect().top + window.scrollY
  const offset = window.innerHeight / 2 - element.clientHeight
  window.scrollTo({ top: y - offset, behavior: "smooth" })
}
</script>
