<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª üé≤ | Randomik.ru</title>

<!-- –Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞ -->
<script type="text/javascript" >
(function(m,e,t,r,i,k,a){
    m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

ym(12345678, "init", { /* <-- –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–π ID */
     clickmap:true,
     trackLinks:true,
     accurateTrackBounce:true,
     webvisor:true
});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/12345678" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /–Ø–Ω–¥–µ–∫—Å –ú–µ—Ç—Ä–∏–∫–∞ -->

<style>
* { box-sizing:border-box; margin:0; padding:0; }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #89f7fe, #66a6ff);
    min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px;
    transition: background 0.3s, color 0.3s;
}
body.dark { background: linear-gradient(135deg,#2c3e50,#000); color:#f0f0f0; }

.card {
    background:white; border-radius:20px; padding:30px; text-align:center; max-width:500px; width:100%;
    box-shadow:0 10px 30px rgba(0,0,0,0.15); transition: background 0.3s, color 0.3s;
}
body.dark .card { background:#1e1e1e; color:#f0f0f0; }

h1 { margin-bottom:15px; font-size:28px; }
.dice-icon { font-size:32px; margin-right:10px; }
#datetime { margin-bottom:20px; font-size:16px; color:#666; background:#f8f9fa; padding:10px; border-radius:10px; }
body.dark #datetime { background:#2a2a2a; color:#ddd; }

.input-group { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin-bottom:15px; }
input, select {
    padding:12px; border:1px solid #ddd; border-radius:10px; width:140px; text-align:center; font-size:16px;
    transition:border-color 0.3s, box-shadow 0.3s;
}
input:focus, select:focus { outline:none; border-color:#66a6ff; box-shadow:0 0 0 2px rgba(102,166,255,0.2); }
body.dark input, body.dark select { background:#2a2a2a; border-color:#444; color:#f0f0f0; }

.checkbox-group, .select-group { display:flex; align-items:center; justify-content:center; gap:15px; margin:10px 0; }

.buttons-container { display:flex; flex-wrap:wrap; justify-content:center; align-items:center; gap:15px; margin-top:15px; }
button { padding:12px 25px; border:none; border-radius:10px; background:#66a6ff; color:white; font-size:16px; font-weight:bold; cursor:pointer; transition:0.2s; }
button:hover { background:#4a8be0; }
button:active { transform:scale(0.95); }

#result { margin-top:20px; font-size:22px; font-weight:bold; min-height:50px; opacity:0; transition:opacity 0.5s; display:flex; flex-wrap:wrap; justify-content:center; gap:8px; }
#result.show { opacity:1; }
.num { display:inline-block; margin:5px; padding:8px 15px; background:#f0f4ff; border-radius:10px; font-weight:bold; animation:pop 0.3s; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
body.dark .num { background:#2c3e50; color:white; }
@keyframes pop { from{transform:scale(0.5);opacity:0;} to{transform:scale(1);opacity:1;} }

.switch { position:relative; display:inline-block; width:60px; height:34px; }
.switch input { opacity:0; width:0; height:0; }
.slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background:#ccc; transition:.4s; border-radius:34px; }
.slider:before { position:absolute; content:""; height:26px; width:26px; left:4px; bottom:4px; background:white; transition:.4s; border-radius:50%; }
input:checked + .slider { background:#28a745; }
input:checked + .slider:before { transform:translateX(26px); }

#history { margin-top:20px; background:#f8f8f8; border-radius:10px; max-height:200px; overflow-y:auto; padding:10px; text-align:center; }
body.dark #history { background:#333; color:#f0f0f0; }
.history-entry { margin-bottom:10px; }
.history-time { font-weight:bold; display:block; font-size:14px; margin-bottom:5px; }
.history-numbers { font-size:16px; display:block; }

.clear-history { margin-top:10px; background:#ff5d5d; width:150px; }

.footer { margin-top:20px; font-size:14px; color:#666; }
body.dark .footer { color:#aaa; }

@media (max-width:480px){
    .input-group{flex-direction:column; align-items:center;}
    input, select { width:100%; max-width:200px; }
}
</style>
</head>
<body>
<div class="card">
<h1><span class="dice-icon">üé≤</span> –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª</h1>
<div id="datetime"></div>

<div class="input-group">
<input type="number" id="min" placeholder="–ú–∏–Ω–∏–º—É–º" value="1">
<input type="number" id="max" placeholder="–ú–∞–∫—Å–∏–º—É–º" value="100">
<input type="number" id="count" placeholder="–ö–æ–ª-–≤–æ" value="1">
</div>

<div class="checkbox-group">
<label><input type="checkbox" id="repeats"> –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—ã</label>
<label class="switch">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞<input type="checkbox" id="themeSwitch"><span class="slider"></span></label>
</div>

<div class="buttons-container">
<button onclick="generateFromInputs()"><span>üé≤</span> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
<button onclick="resetAll()"><span>üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å</button>
<button onclick="copyResult()"><span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
</div>

<div id="result"></div>
<div id="history"></div>
<button class="clear-history" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>

<!-- –†–°–Ø -->
<div id="rsy-ad" style="margin-top:20px; text-align:center;">
<script type="text/javascript">
(function(w,d,n,s,t){
    w[n]=w[n]||[];
    w[n].push(function(){ Ya.Context.AdvManager.render({ blockId:"RANDOMIK123", renderTo:"rsy-ad", async:true }); });
    t=d.createElement("script"); t.type="text/javascript"; t.src="https://an.yandex.ru/system/context.js"; t.async=true;
    s=d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(t,s);
})(window,document,"yandexContextAsyncCallbacks");
</script>
</div>

<div class="footer">Randomik.ru - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —á–µ—Å—Ç–Ω—ã—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π!</div>
</div>

<audio id="dice-sound" src="dice.mp3"></audio>

<script>
// –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
function updateDateTime(){
  const now=new Date();
  const dateString=now.toLocaleDateString('ru-RU',{year:'numeric',month:'long',day:'numeric'});
  const timeString=now.toLocaleTimeString('ru-RU');
  document.getElementById('datetime').textContent=`üìÖ ${dateString}, ‚è∞ ${timeString}`;
}
setInterval(updateDateTime,1000);

// –¢–µ–º–∞
const themeSwitch=document.getElementById('themeSwitch');
themeSwitch.addEventListener('change',()=>{
  document.body.classList.toggle('dark',themeSwitch.checked);
  localStorage.setItem('theme',themeSwitch.checked?'dark':'light');
});
window.onload=function(){
  const savedTheme=localStorage.getItem('theme');
  if(savedTheme==='dark'){ document.body.classList.add('dark'); themeSwitch.checked=true; }
  document.getElementById('min').value='1';
  document.getElementById('max').value='100';
  document.getElementById('count').value='1';
  updateHistory();
}

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä
function generateNumbers(min,max,count,allowRepeats,sortOrder,animated=true){
  const resultEl=document.getElementById('result');
  if(isNaN(min)||isNaN(max)||isNaN(count)||min>max||count<=0){ resultEl.textContent='–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!'; return; }
  if(count>1000){ resultEl.textContent='–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —á–∏—Å–µ–ª!'; return; }
  const range=max-min+1;
  if(!allowRepeats&&count>range){ resultEl.textContent='–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª!'; return; }

  let numbers=[];
  if(allowRepeats){ for(let i=0;i<count;i++){ numbers.push(Math.floor(Math.random()*(max-min+1))+min); } }
  else{ const set=new Set(); while(set.size<count) set.add(Math.floor(Math.random()*(max-min+1))+min); numbers=[...set]; }

  if(sortOrder==='asc') numbers.sort((a,b)=>a-b);
  else if(sortOrder==='desc') numbers.sort((a,b)=>b-a);

  resultEl.innerHTML=''; resultEl.classList.remove('show');

  const audio=document.getElementById('dice-sound'); if(audio){ audio.currentTime=0; audio.play(); }

  if(animated){
    numbers.forEach((n,i)=>setTimeout(()=>{ resultEl.innerHTML+=`<span class="num">${n}</span>`; if(i===numbers.length-1){ resultEl.classList.add('show'); resultEl.scrollIntoView({behavior:'smooth',block:'center'}); } },i*100));
  } else{ resultEl.innerHTML=numbers.map(n=>`<span class="num">${n}</span>`).join(''); resultEl.classList.add('show'); }

  saveToHistory(numbers);
}

function generateFromInputs(){
  const min=parseInt(document.getElementById('min').value)||1;
  const max=parseInt(document.getElementById('max').value)||100;
  const count=parseInt(document.getElementById('count').value)||1;
  const allowRepeats=document.getElementById('repeats').checked;
  const sortOrder=document.getElementById('sort').value;
  generateNumbers(min,max,count,allowRepeats,sortOrder,true);
}

function resetAll(){
  document.getElementById('min').value=''; document.getElementById('max').value=''; document.getElementById('count').value='';
  document.getElementById('repeats').checked=false; document.getElementById('sort').value='none';
  const resultEl=document.getElementById('result'); resultEl.textContent=''; resultEl.classList.remove('show');
}

function copyResult(){
  const text=document.getElementById('result').innerText;
  if(text.trim()==='') return;
  navigator.clipboard.writeText(text);
  alert('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
}

// –ò—Å—Ç–æ—Ä–∏—è
const HISTORY_KEY="randomikHistory";
function saveToHistory(numbers){
  const entry={time:new Date().toLocaleString('ru-RU'), numbers};
  let hist=JSON.parse(localStorage.getItem(HISTORY_KEY)||'[]');
  hist.unshift(entry); hist=hist.slice(0,30);
  localStorage.setItem(HISTORY_KEY,JSON.stringify(hist));
  updateHistory();
}

function updateHistory(){
  const hist=JSON.parse(localStorage.getItem(HISTORY_KEY)||'[]');
  const historyDiv=document.getElementById('history');
  if(!hist.length){ historyDiv.innerHTML='–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞'; return; }
  historyDiv.innerHTML=hist.map(e=>`<div class="history-entry"><span class="history-time">${e.time}</span><span class="history-numbers">${e.numbers.join(', ')}</span></div>`).join('');
}

function clearHistory(){ localStorage.removeItem(HISTORY_KEY); updateHistory(); }
</script>
</body>
</html>
