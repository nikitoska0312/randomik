<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª üé≤</title>

<meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π, –ª–æ—Ç–µ—Ä–µ–π, –∫–æ–Ω–∫—É—Ä—Å–æ–≤.">
<meta name="keywords" content="–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª, —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –æ–Ω–ª–∞–π–Ω, Randomik, —á–∏—Å–ª–∞ –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞">
<meta name="author" content="Randomik.ru">
<meta name="robots" content="index, follow">

<!-- –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ -->
<script type="text/javascript">
(function(m,e,t,r,i,k,a){
  m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
  m[i].l=1*new Date();
  k=e.createElement(t),a=e.getElementsByTagName(t)[0];
  k.async=1;k.src=r;a.parentNode.insertBefore(k,a)
})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
ym(104258221, "init", {
  clickmap:true,
  trackLinks:true,
  accurateTrackBounce:true,
  webvisor:true
});
</script>
<noscript>
  <div><img src="https://mc.yandex.ru/watch/104258221" style="position:absolute; left:-9999px;" alt=""></div>
</noscript>
<!-- /–Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ -->

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Segoe UI',sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  background:linear-gradient(135deg,#89f7fe,#66a6ff);
  padding:20px;
  transition:.3s;
}
body.dark{
  background:linear-gradient(135deg,#2c3e50,#000);
  color:#fff;
}
.card{
  background:#fff;
  padding:30px;
  border-radius:20px;
  max-width:520px;
  width:100%;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}
body.dark .card{background:#1e1e1e;}

h1{margin-bottom:10px;}

#datetime{
  margin-bottom:20px;
  font-size:16px;
  color:#666;
  background:#f8f9fa;
  padding:10px;
  border-radius:10px;
  font-weight:bold;
}
body.dark #datetime{
  background:#2a2a2a;
  color:#ddd;
}

input,select{
  padding:10px;
  margin:6px auto;
  border-radius:10px;
  border:1px solid #ccc;
  width:100%;
  max-width:240px;
  text-align:center;
}
body.dark input,
body.dark select{
  background:#2a2a2a;
  color:#fff;
  border:1px solid #444;
}

.options{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:8px;
  margin:12px auto;
  max-width:240px;
}
.option{
  display:flex;
  align-items:center;
  gap:8px;
  white-space:nowrap;
}

.controls{
  margin-top:15px;
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}
.controls-row{
  display:flex;
  gap:12px;
  align-items:center;
}

button{
  padding:12px 22px;
  border:none;
  border-radius:10px;
  background:#66a6ff;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
button:hover{background:#4a8be0;}

#result{
  margin:30px 0;
  min-height:50px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  opacity:0;
  transition:.4s;
}
#result.show{opacity:1;}

.num{
  background:#f0f4ff;
  padding:8px 15px;
  border-radius:10px;
  font-weight:bold;
}
body.dark .num{background:#2c3e50;}

#history{
  background:#f8f8f8;
  padding:10px;
  border-radius:10px;
  max-height:200px;
  overflow-y:auto;
}
body.dark #history{background:#333;}

.history-entry{margin-bottom:10px;}
.history-time{font-weight:bold;display:block;}

.clear-history{
  background:#ff5d5d;
  margin-top:10px;
}

/* switch */
.switch{
  position:relative;
  display:inline-block;
  width:56px;
  height:32px;
}
.switch input{opacity:0;}
.slider{
  position:absolute;
  inset:0;
  background:#ccc;
  border-radius:32px;
  transition:.4s;
}
.slider:before{
  content:"";
  position:absolute;
  height:24px;width:24px;
  left:4px;bottom:4px;
  background:#fff;
  border-radius:50%;
  transition:.4s;
}
.switch input:checked + .slider{background:#28a745;}
.switch input:checked + .slider:before{transform:translateX(24px);}

.whatsapp-invite{
  margin-top:25px;
  padding-top:15px;
  border-top:2px solid #ccc;
}
.whatsapp-invite a{
  display:inline-flex;
  align-items:center;
  gap:8px;
  background:#25D366;
  color:#fff;
  padding:10px 18px;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;
}
.whatsapp-invite a:hover{background:#1da851;}

.footer{
  margin-top:20px;
  font-size:14px;
  color:#666;
}
body.dark .footer{color:#aaa;}
</style>
</head>

<body>
<div class="card">
<h1>üé≤ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª</h1>
<div id="datetime"></div>

<input id="min" type="number" placeholder="–ú–∏–Ω–∏–º—É–º">
<input id="max" type="number" placeholder="–ú–∞–∫—Å–∏–º—É–º">
<input id="count" type="number" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ">
<input id="exclude" type="text" placeholder="–ò—Å–∫–ª—é—á–∏—Ç—å —á–∏—Å–ª–∞">

<div class="options">
  <div class="option"><input type="checkbox" id="excludeEven"><label>–ò—Å–∫–ª—é—á–∏—Ç—å —á—ë—Ç–Ω—ã–µ</label></div>
  <div class="option"><input type="checkbox" id="excludeOdd"><label>–ò—Å–∫–ª—é—á–∏—Ç—å –Ω–µ—á—ë—Ç–Ω—ã–µ</label></div>
  <div class="option"><input type="checkbox" id="repeats"><label>–†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—ã</label></div>
</div>

<select id="sort">
  <option value="none">–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</option>
  <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
  <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
</select>

<div class="controls">
  <div class="controls-row">
    <button id="generate">üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
    <label class="switch">
      <input type="checkbox" id="themeSwitch">
      <span class="slider"></span>
    </label>
  </div>
  <div class="controls-row">
    <button id="reset">üîÑ –°–±—Ä–æ—Å</button>
    <button id="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</div>

<div id="result"></div>

<!-- –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –ò–°–¢–û–†–ò–ò -->
<div class="options">
  <div class="option">
    <input type="checkbox" id="toggleHistory" checked>
    <label>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é</label>
  </div>
</div>

<div id="historyBlock">
  <h3>–ò—Å—Ç–æ—Ä–∏—è</h3>
  <div id="history">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
  <button class="clear-history" id="clearHistory">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
</div>

<div class="whatsapp-invite">
  <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –≥—Ä—É–ø–ø–µ WhatsApp:</p>
  <a href="https://chat.whatsapp.com/KFRNz2AeOFg0eH8U1QPRl5" target="_blank" rel="noopener">
    –í—Å—Ç—É–ø–∏—Ç—å –≤ WhatsApp
  </a>
</div>

<div class="footer">
Randomik.ru ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —á–µ—Å—Ç–Ω—ã—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π!
</div>
</div>

<script>
const qs=id=>document.getElementById(id);

/* –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è */
function updateDateTime(){
  const n=new Date();
  qs('datetime').textContent=
    `üìÖ ${n.toLocaleDateString('ru-RU',{year:'numeric',month:'long',day:'numeric'})}, ‚è∞ ${n.toLocaleTimeString('ru-RU')}`;
}
setInterval(updateDateTime,1000);
updateDateTime();

/* –≥–µ–Ω–µ—Ä–∞—Ü–∏—è */
qs('generate').onclick=generate;
qs('reset').onclick=resetAll;
qs('copy').onclick=copyResult;
qs('clearHistory').onclick=()=>{localStorage.removeItem('history');updateHistory();};

qs('themeSwitch').onchange=()=>{
  document.body.classList.toggle('dark');
  localStorage.setItem('theme',document.body.classList.contains('dark')?'dark':'light');
};

/* –ø–æ–∫–∞–∑–∞—Ç—å / —Å–∫—Ä—ã—Ç—å –∏—Å—Ç–æ—Ä–∏—é */
qs('toggleHistory').onchange=()=>{
  const show=qs('toggleHistory').checked;
  qs('historyBlock').style.display=show?'block':'none';
  localStorage.setItem('showHistory',show?'1':'0');
};

function generate(){
  const min=+qs('min').value;
  const max=+qs('max').value;
  const count=+qs('count').value;
  if(min>max||count<=0)return;

  const exclude=qs('exclude').value.split(',').map(Number).filter(n=>!isNaN(n));
  let pool=[];
  for(let i=min;i<=max;i++){
    if(exclude.includes(i))continue;
    if(qs('excludeEven').checked && i%2===0)continue;
    if(qs('excludeOdd').checked && i%2!==0)continue;
    pool.push(i);
  }
  if(!qs('repeats').checked && count>pool.length)return;

  let nums=qs('repeats').checked
    ? Array.from({length:count},()=>pool[Math.floor(Math.random()*pool.length)])
    : pool.sort(()=>Math.random()-0.5).slice(0,count);

  if(qs('sort').value==='asc')nums.sort((a,b)=>a-b);
  if(qs('sort').value==='desc')nums.sort((a,b)=>b-a);

  render(nums);
  saveHistory(nums);
}

function render(arr){
  const r=qs('result');
  r.innerHTML='';
  r.classList.remove('show');
  arr.forEach((n,i)=>setTimeout(()=>{
    r.innerHTML+=`<span class="num">${n}</span>`;
    window.scrollTo({top:r.offsetTop-window.innerHeight/2,behavior:'smooth'});
    if(i===arr.length-1)r.classList.add('show');
  },i*120));
}

function copyResult(){
  const nums=[...document.querySelectorAll('#result .num')].map(e=>e.textContent);
  if(!nums.length)return alert('–ù–µ—Ç —á–∏—Å–µ–ª');
  navigator.clipboard.writeText(nums.join(', ')).then(()=>alert('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ'));
}

function resetAll(){
  ['min','max','count','exclude'].forEach(id=>qs(id).value='');
  ['excludeEven','excludeOdd','repeats'].forEach(id=>qs(id).checked=false);
  qs('sort').value='none';
  qs('result').innerHTML='';
  qs('result').classList.remove('show');
}

function saveHistory(arr){
  const h=JSON.parse(localStorage.getItem('history')||'[]');
  h.unshift({time:new Date().toLocaleString('ru-RU'),arr});
  localStorage.setItem('history',JSON.stringify(h.slice(0,50)));
  updateHistory();
}

function updateHistory(){
  const h=JSON.parse(localStorage.getItem('history')||'[]');
  const d=qs('history');
  d.innerHTML=h.length?'':'–ü–æ–∫–∞ –ø—É—Å—Ç–æ';
  h.forEach(e=>{
    d.innerHTML+=`<div class="history-entry">
      <span class="history-time">${e.time}</span>${e.arr.join(', ')}
    </div>`;
  });
}

/* –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è */
updateHistory();
if(localStorage.getItem('theme')==='dark'){
  document.body.classList.add('dark');
  qs('themeSwitch').checked=true;
}
if(localStorage.getItem('showHistory')==='0'){
  qs('toggleHistory').checked=false;
  qs('historyBlock').style.display='none';
}
</script>
</body>
</html>
